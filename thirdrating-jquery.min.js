/*! thirdrating-jquery - v0.0.1 - 2014-05-20 */!function(a,b,c){a.fn.thirdrating=function(b){function d(b){a.ajax({url:g.thirdRatingUrl+"/latestrating",method:"POST",headers:{"X-API-KEY":f.settings.apiKey},data:{marks:b}}).done(function(){}).fail(f.settings.onError)}function e(b){var c=[];b.each(function(){var b=a(this);c.push(b.data("mark"))}),f.settings.beforeRefresh(),d(c,function(){})}var f=this;f.settings={};var g={thirdRatingUrl:"http://the.thirdrating.com/api"},h={showWho:!0,showLastChange:!0,showDescription:!0,showLastUpdateDateTime:!0,allowLink:!0,beforeRefresh:function(){},afterRefresh:function(){},onError:function(){}},i={init:function(b){if(f.settings=a.extend({},h,b),f.settings.apiKey===c)throw new Error("missing api key");return e(f),f},refresh:function(){return e(f),f}};return i[b]?i[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" does not exist on jQuery.thirdrating"):i.init.apply(this,arguments)}}(jQuery,window);